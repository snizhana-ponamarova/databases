# Лабораторна робота №2  
**Тема:** Засоби оптимізації роботи СУБД PostgreSQL  
**Варіант:** 9  

---

## Опис лабораторної роботи

Дана лабораторна робота присвячена оптимізації роботи реляційної бази даних PostgreSQL та модернізації консольного застосунку з використанням ORM-підходу.

---

## 1. Перехід від SQL-запитів до ORM (SQLAlchemy)

- Модуль `Model` перероблено у вигляді ORM-проєкції.  
- Створено класи-сутності:
  - `Parents`
  - `Student`
  - `Teacher`
  - `Subject`
  - `Journal`
- Реалізовано CRUD-операції через ORM:
  - вставка  
  - оновлення  
  - видалення  
  - перевірка існування записів  
- Збережено всі зовнішні зв’язки, обмеження та цілісність даних.

---

## 2. Створення індексів та аналіз їх ефективності

- Створено індекси типів **BTREE** та **BRIN** відповідно до варіанту.  
- Проведено порівняння продуктивності запитів **до та після індексування**.  
- Наведено **4 приклади SELECT-запитів**:
  - з фільтрацією  
  - групуванням  
  - сортуванням  
- Проаналізовано випадки, коли індекс недоцільний (особливо для BRIN).

---

## 3. Розробка тригера PostgreSQL

Створено тригер:

- **BEFORE UPDATE OR DELETE** для таблиці `journal`.
- Містить:
  - умовні оператори  
  - курсорний цикл  
  - обробку виключних ситуацій  
- Продемонстровано **3 приклади** спрацювання тригера:
  - коректний UPDATE  
  - некоректний UPDATE  
  - DELETE  

---

## 4. Аналіз рівнів ізоляції транзакцій

Досліджено рівні:

- `READ COMMITTED`  
- `REPEATABLE READ`  
- `SERIALIZABLE`

У двох паралельних сесіях PostgreSQL відтворено феномени:

- **dirty read**  
- **non-repeatable read**  
- **phantom read**

Показано, як кожен рівень ізоляції запобігає проблемам конкурентності.  
У звіт додано скріншоти двох транзакцій та детальний аналіз результатів.

---


